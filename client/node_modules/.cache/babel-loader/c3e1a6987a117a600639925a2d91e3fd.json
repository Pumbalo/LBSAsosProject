{"ast":null,"code":"import _toConsumableArray from\"/Users/simon/Desktop/AsosProject/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/simon/Desktop/AsosProject/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/simon/Desktop/AsosProject/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import styled from\"styled-components\";import classes from\"./ProductContent.module.css\";import{useState,useContext,Fragment}from\"react\";import{useParams,Link}from\"react-router-dom\";// Importerar AddToCartContext & AddToWishlitContext\nimport AddToCartContext from\"../../Contexts/AddToCartContext\";import AddToWishlistContext from\"../../Contexts/AddToWishlistContext\";import Cart from\"../UI/Icons/Cart\";import Heart from\"../UI/Icons/Heart\";import SubImages from\"./SubImages\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledApp=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  color: \",\";\\n\\n  a {\\n    color: \",\";\\n    text-decoration: none;\\n  }\\n\\n  a:hover {\\n    color: \",\";\\n  }\\n\\n  .sub_img__active {\\n    border: 2px solid \",\";\\n    box-shadow: 0px 0px 8px \",\";\\n  }\\n\"])),function(props){return props.theme.fontColor;},function(props){return props.theme.fontColor;},function(props){return props.theme.secondaryColor;},function(props){return props.theme.secondaryColor;},function(props){return props.theme.secondaryColor;});var InfoApp=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  letter-spacing: 1px;\\n  text-transform: capitalize;\\n  margin: 0;\\n\\n  h1 {\\n    font-weight: var(--font-light);\\n    padding-top: 30px;\\n    opacity: 0.87;\\n    font-size: 28px;\\n  }\\n\\n  h2 {\\n    font-weight: var(--font-bold);\\n    opacity: 0.87;\\n    padding-top: 30px;\\n    font-size: 32px;\\n  }\\n\\n  p {\\n    font-weight: var(--font-light);\\n    opacity: 0.87;\\n    font-size: 16px;\\n    padding-top: 10px;\\n  }\\n\\n  h3 {\\n    font-weight: var(--font-semibold);\\n    opacity: 0.87;\\n    font-size: 28px;\\n    padding-top: 30px;\\n  }\\n\\n  h5 {\\n    font-weight: var(--font-bold);\\n    opacity: 0.8;\\n    font-size: 28px;\\n    padding-top: 30px;\\n  }\\n\"])));var BtnContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  margin-top: 40px;\\n\\n  button {\\n    background-color: \",\";\\n  }\\n\\n  button:disabled::before,\\n  button:disabled::after {\\n    content: \\\"\\\";\\n    opacity: 0;\\n    transition: opacity 700ms ease-in-out;\\n  }\\n\\n  button:hover:disabled::before {\\n    content: \\\"Please select size.\\\";\\n    position: absolute;\\n    top: -35px;\\n    left: 50%;\\n    transform: translate(-50%);\\n    color: #fff;\\n    width: 100%;\\n    padding: 2px 4px;\\n    background-color: \",\";\\n    border-radius: 4px;\\n    opacity: 1;\\n  }\\n\\n  button:hover:disabled::after {\\n    content: \\\"\\\";\\n    position: absolute;\\n    top: -10px;\\n    left: 50%;\\n    transform: translate(-50%);\\n    width: 20px;\\n    height: 15px;\\n    background-color: \",\";\\n    clip-path: polygon(50% 60%, 0 0, 100% 0);\\n    opacity: 1;\\n  }\\n\"])),function(props){return props.theme.secondaryColor;},function(props){return props.theme.secondaryColor;},function(props){return props.theme.secondaryColor;});var SizeContainer=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  color: \",\";\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));\\n  align-items: flex-end;\\n  text-align: center;\\n\\n  span {\\n    font-size: 16px;\\n    font-family: \\\"Roboto\\\", sans-serif;\\n    font-weight: var(--font-regular);\\n    cursor: pointer;\\n    position: relative;\\n    padding: 0 2px;\\n    margin: 0;\\n  }\\n\\n  span:first-child {\\n    margin-left: 0;\\n  }\\n\\n  span::before {\\n    content: \\\"\\\";\\n    position: absolute;\\n    width: 100%;\\n    height: 2px;\\n    bottom: 0;\\n    left: 0;\\n    background-color: \",\";\\n    visibility: hidden;\\n    transform: scaleX(0);\\n    transition: all 100ms ease-in-out;\\n  }\\n\\n  span:hover::before {\\n    visibility: visible;\\n    transform: scaleX(1);\\n  }\\n\\n  & .size_active {\\n    color: \",\";\\n  }\\n\"])),function(props){return props.theme.fontColor;},function(props){return props.theme.secondaryColor;},function(props){return props.theme.secondaryColor;});var SubImageContainer=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  & .active_sub_image {\\n    box-shadow: 0px 0px 7px 1px \",\";\\n  }\\n\"])),function(props){return props.theme.secondaryColor;});var ProductContent=function ProductContent(props){var _props$mainImg,_props$mainImg2,_props$mainImg3,_props$sizes;// Sätter \"Size\" i en state.\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),selectedSize=_useState2[0],setSelectedSize=_useState2[1];// Kollar ifall användare har valt en \"Size\"\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isSizeSelected=_useState4[0],setIsSizeSelected=_useState4[1];var params=useParams();var location=\"/category/\".concat(params.type,\"/\").concat(params.id);// Gör så att value \"setCartItems\" som finns i './app.js' fungerar i denna filen.\nvar _useContext=useContext(AddToCartContext),setCartItems=_useContext.setCartItems;// Gör så att value \"setWishlistItems\" som finns i './app.js' fungerar i denna filen.\nvar _useContext2=useContext(AddToWishlistContext),setWishlistItems=_useContext2.setWishlistItems;var selectSizeHandler=function selectSizeHandler(event){setSelectedSize(event.target.textContent);setIsSizeSelected(true);};var changeMainImg=function changeMainImg(event){var target=event.target.getAttribute(\"src\");var mainImg=document.getElementsByClassName(\"\".concat(classes.main_img));// Byter \"main image\" till \"sub image\" man tryckt på.\nmainImg[0].src=target;};var zoomInHandler=function zoomInHandler(e){var img=e.target;var lens=document.getElementsByClassName(\"\".concat(classes.lens))[0];// Får tag på img src så det kan sättas i lens.\nlens.style.backgroundImage=\"url(\".concat(e.target.getAttribute(\"src\"),\")\");// Zoom Ratio\nvar ratio=2;// Sätter storleken på bilden inuti 'lens' till storleken på bilden * ratio.\nlens.style.backgroundSize=img.width*ratio+\"px \"+img.height*ratio+\"px\";// Få position på mus\nvar bounds=img.getBoundingClientRect();var x=e.pageX-bounds.left;var y=e.pageY-bounds.top;// Flytta 'lens'\nvar positionLeft=x-lens.offsetWidth/2;var positionTop=y-lens.offsetWidth/2;// Sätter left och top position (som används i position: absolute).\nlens.style.left=positionLeft+\"px\";lens.style.top=positionTop+\"px\";// Ändra plats på bilden i 'lens'.\nlens.style.backgroundPosition=\"-\"+x*ratio+\"px -\"+y*ratio+\"px\";};return/*#__PURE__*/_jsxs(StyledApp,{className:classes.container,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.top,children:/*#__PURE__*/_jsxs(\"span\",{className:classes.location,children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"home\"}),\" /\",/*#__PURE__*/_jsx(Link,{to:location,children:props.categoryType}),\" / \",props.brandName]})}),/*#__PURE__*/_jsx(\"div\",{className:classes.content,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.grid_container,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.item,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.img_grid,children:[/*#__PURE__*/_jsx(SubImageContainer,{className:classes.sub_img__container,children:/*#__PURE__*/_jsx(SubImages,{onClick:changeMainImg,media:props.media,className:classes.sub_img})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.main_img__container,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.lens}),/*#__PURE__*/_jsx(\"img\",{alt:\"main\",src:\"https://\".concat((_props$mainImg=props.mainImg)===null||_props$mainImg===void 0?void 0:_props$mainImg.url),className:classes.main_img,onMouseMove:zoomInHandler})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:classes.item,children:/*#__PURE__*/_jsxs(InfoApp,{className:classes.information_container,children:[/*#__PURE__*/_jsx(\"h1\",{children:props.name}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"$\",props.price]}),/*#__PURE__*/_jsx(\"p\",{children:\"free delivery & returns\"}),((_props$mainImg2=props.mainImg)===null||_props$mainImg2===void 0?void 0:_props$mainImg2.colour)===\"No colour\"?null:/*#__PURE__*/_jsxs(\"h3\",{children:[\"color: \",(_props$mainImg3=props.mainImg)===null||_props$mainImg3===void 0?void 0:_props$mainImg3.colour]}),/*#__PURE__*/_jsxs(\"form\",{className:classes.purchase,children:[props.sizes[0].brandSize===\"No Size\"?null:/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"size: \"}),/*#__PURE__*/_jsx(SizeContainer,{className:classes.sizes,children:(_props$sizes=props.sizes)===null||_props$sizes===void 0?void 0:_props$sizes.map(function(sizes){return/*#__PURE__*/_jsx(\"span\",{onClick:selectSizeHandler,className:selectedSize===sizes.brandSize?\"size_active\":null,children:sizes.brandSize});})})]}),/*#__PURE__*/_jsxs(BtnContainer,{className:classes.btn_container,children:[props.sizes[0].brandSize===\"No Size\"?/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:function onClick(){return setCartItems(function(cartItems){var _props$mainImg4,_props$mainImg5;return[].concat(_toConsumableArray(cartItems),[{name:props.name,price:props.price,color:(_props$mainImg4=props.mainImg)===null||_props$mainImg4===void 0?void 0:_props$mainImg4.colour,img:(_props$mainImg5=props.mainImg)===null||_props$mainImg5===void 0?void 0:_props$mainImg5.url,id:params.productid,size:selectedSize,count:1}]);});},className:classes.add_to_cart,children:[/*#__PURE__*/_jsx(Cart,{}),\"add to cart\"]}):/*#__PURE__*/_jsxs(\"button\",{disabled:!isSizeSelected,type:\"button\",onClick:function onClick(){return setCartItems(function(cartItems){var _props$mainImg6,_props$mainImg7;return[].concat(_toConsumableArray(cartItems),[{name:props.name,price:props.price,color:(_props$mainImg6=props.mainImg)===null||_props$mainImg6===void 0?void 0:_props$mainImg6.colour,img:(_props$mainImg7=props.mainImg)===null||_props$mainImg7===void 0?void 0:_props$mainImg7.url,id:params.productid,size:selectedSize,count:1}]);});},className:classes.add_to_cart,children:[/*#__PURE__*/_jsx(Cart,{}),\"add to cart\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return setWishlistItems(function(wishListItems){var _props$mainImg8,_props$mainImg9;return[].concat(_toConsumableArray(wishListItems),[{name:props.name,price:props.price,color:(_props$mainImg8=props.mainImg)===null||_props$mainImg8===void 0?void 0:_props$mainImg8.colour,img:(_props$mainImg9=props.mainImg)===null||_props$mainImg9===void 0?void 0:_props$mainImg9.url,id:params.productid,size:selectedSize}]);});},className:classes.wishlist,children:/*#__PURE__*/_jsx(Heart,{})})]})]})]})})]})})]});};export default ProductContent;","map":{"version":3,"sources":["/Users/simon/Desktop/AsosProject/client/src/components/Product/ProductContent.js"],"names":["styled","classes","useState","useContext","Fragment","useParams","Link","AddToCartContext","AddToWishlistContext","Cart","Heart","SubImages","StyledApp","div","props","theme","fontColor","secondaryColor","InfoApp","BtnContainer","SizeContainer","SubImageContainer","ProductContent","selectedSize","setSelectedSize","isSizeSelected","setIsSizeSelected","params","location","type","id","setCartItems","setWishlistItems","selectSizeHandler","event","target","textContent","changeMainImg","getAttribute","mainImg","document","getElementsByClassName","main_img","src","zoomInHandler","e","img","lens","style","backgroundImage","ratio","backgroundSize","width","height","bounds","getBoundingClientRect","x","pageX","left","y","pageY","top","positionLeft","offsetWidth","positionTop","backgroundPosition","container","categoryType","brandName","content","grid_container","item","img_grid","sub_img__container","media","sub_img","main_img__container","url","information_container","name","price","colour","purchase","sizes","brandSize","map","btn_container","cartItems","color","productid","size","count","add_to_cart","wishListItems","wishlist"],"mappings":"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","sourcesContent":["import styled from \"styled-components\";\r\nimport classes from \"./ProductContent.module.css\";\r\nimport { useState, useContext, Fragment } from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\n\r\n// Importerar AddToCartContext & AddToWishlitContext\r\nimport AddToCartContext from \"../../Contexts/AddToCartContext\";\r\nimport AddToWishlistContext from \"../../Contexts/AddToWishlistContext\";\r\n\r\nimport Cart from \"../UI/Icons/Cart\";\r\nimport Heart from \"../UI/Icons/Heart\";\r\nimport SubImages from \"./SubImages\";\r\n\r\nconst StyledApp = styled.div`\r\n  color: ${(props) => props.theme.fontColor};\r\n\r\n  a {\r\n    color: ${(props) => props.theme.fontColor};\r\n    text-decoration: none;\r\n  }\r\n\r\n  a:hover {\r\n    color: ${(props) => props.theme.secondaryColor};\r\n  }\r\n\r\n  .sub_img__active {\r\n    border: 2px solid ${(props) => props.theme.secondaryColor};\r\n    box-shadow: 0px 0px 8px ${(props) => props.theme.secondaryColor};\r\n  }\r\n`;\r\n\r\nconst InfoApp = styled.div`\r\n  letter-spacing: 1px;\r\n  text-transform: capitalize;\r\n  margin: 0;\r\n\r\n  h1 {\r\n    font-weight: var(--font-light);\r\n    padding-top: 30px;\r\n    opacity: 0.87;\r\n    font-size: 28px;\r\n  }\r\n\r\n  h2 {\r\n    font-weight: var(--font-bold);\r\n    opacity: 0.87;\r\n    padding-top: 30px;\r\n    font-size: 32px;\r\n  }\r\n\r\n  p {\r\n    font-weight: var(--font-light);\r\n    opacity: 0.87;\r\n    font-size: 16px;\r\n    padding-top: 10px;\r\n  }\r\n\r\n  h3 {\r\n    font-weight: var(--font-semibold);\r\n    opacity: 0.87;\r\n    font-size: 28px;\r\n    padding-top: 30px;\r\n  }\r\n\r\n  h5 {\r\n    font-weight: var(--font-bold);\r\n    opacity: 0.8;\r\n    font-size: 28px;\r\n    padding-top: 30px;\r\n  }\r\n`;\r\n\r\nconst BtnContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top: 40px;\r\n\r\n  button {\r\n    background-color: ${(props) => props.theme.secondaryColor};\r\n  }\r\n\r\n  button:disabled::before,\r\n  button:disabled::after {\r\n    content: \"\";\r\n    opacity: 0;\r\n    transition: opacity 700ms ease-in-out;\r\n  }\r\n\r\n  button:hover:disabled::before {\r\n    content: \"Please select size.\";\r\n    position: absolute;\r\n    top: -35px;\r\n    left: 50%;\r\n    transform: translate(-50%);\r\n    color: #fff;\r\n    width: 100%;\r\n    padding: 2px 4px;\r\n    background-color: ${(props) => props.theme.secondaryColor};\r\n    border-radius: 4px;\r\n    opacity: 1;\r\n  }\r\n\r\n  button:hover:disabled::after {\r\n    content: \"\";\r\n    position: absolute;\r\n    top: -10px;\r\n    left: 50%;\r\n    transform: translate(-50%);\r\n    width: 20px;\r\n    height: 15px;\r\n    background-color: ${(props) => props.theme.secondaryColor};\r\n    clip-path: polygon(50% 60%, 0 0, 100% 0);\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst SizeContainer = styled.div`\r\n  color: ${(props) => props.theme.fontColor};\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));\r\n  align-items: flex-end;\r\n  text-align: center;\r\n\r\n  span {\r\n    font-size: 16px;\r\n    font-family: \"Roboto\", sans-serif;\r\n    font-weight: var(--font-regular);\r\n    cursor: pointer;\r\n    position: relative;\r\n    padding: 0 2px;\r\n    margin: 0;\r\n  }\r\n\r\n  span:first-child {\r\n    margin-left: 0;\r\n  }\r\n\r\n  span::before {\r\n    content: \"\";\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 2px;\r\n    bottom: 0;\r\n    left: 0;\r\n    background-color: ${(props) => props.theme.secondaryColor};\r\n    visibility: hidden;\r\n    transform: scaleX(0);\r\n    transition: all 100ms ease-in-out;\r\n  }\r\n\r\n  span:hover::before {\r\n    visibility: visible;\r\n    transform: scaleX(1);\r\n  }\r\n\r\n  & .size_active {\r\n    color: ${(props) => props.theme.secondaryColor};\r\n  }\r\n`;\r\n\r\nconst SubImageContainer = styled.div`\r\n  & .active_sub_image {\r\n    box-shadow: 0px 0px 7px 1px ${(props) => props.theme.secondaryColor};\r\n  }\r\n`;\r\n\r\nconst ProductContent = (props) => {\r\n  // Sätter \"Size\" i en state.\r\n  const [selectedSize, setSelectedSize] = useState();\r\n\r\n  // Kollar ifall användare har valt en \"Size\"\r\n  const [isSizeSelected, setIsSizeSelected] = useState(false);\r\n\r\n  let params = useParams();\r\n  let location = `/category/${params.type}/${params.id}`;\r\n\r\n  // Gör så att value \"setCartItems\" som finns i './app.js' fungerar i denna filen.\r\n  const { setCartItems } = useContext(AddToCartContext);\r\n\r\n  // Gör så att value \"setWishlistItems\" som finns i './app.js' fungerar i denna filen.\r\n  const { setWishlistItems } = useContext(AddToWishlistContext);\r\n\r\n  const selectSizeHandler = (event) => {\r\n    setSelectedSize(event.target.textContent);\r\n    setIsSizeSelected(true);\r\n  };\r\n\r\n  const changeMainImg = (event) => {\r\n    let target = event.target.getAttribute(\"src\");\r\n    let mainImg = document.getElementsByClassName(`${classes.main_img}`);\r\n    // Byter \"main image\" till \"sub image\" man tryckt på.\r\n    mainImg[0].src = target;\r\n  };\r\n\r\n  const zoomInHandler = (e) => {\r\n    let img = e.target;\r\n    let lens = document.getElementsByClassName(`${classes.lens}`)[0];\r\n\r\n    // Får tag på img src så det kan sättas i lens.\r\n    lens.style.backgroundImage = `url(${e.target.getAttribute(\"src\")})`;\r\n\r\n    // Zoom Ratio\r\n    let ratio = 2;\r\n\r\n    // Sätter storleken på bilden inuti 'lens' till storleken på bilden * ratio.\r\n    lens.style.backgroundSize =\r\n      img.width * ratio + \"px \" + img.height * ratio + \"px\";\r\n\r\n    // Få position på mus\r\n    let bounds = img.getBoundingClientRect();\r\n    let x = e.pageX - bounds.left;\r\n    let y = e.pageY - bounds.top;\r\n\r\n    // Flytta 'lens'\r\n    let positionLeft = x - lens.offsetWidth / 2;\r\n    let positionTop = y - lens.offsetWidth / 2;\r\n\r\n    // Sätter left och top position (som används i position: absolute).\r\n    lens.style.left = positionLeft + \"px\";\r\n    lens.style.top = positionTop + \"px\";\r\n\r\n    // Ändra plats på bilden i 'lens'.\r\n    lens.style.backgroundPosition = \"-\" + x * ratio + \"px -\" + y * ratio + \"px\";\r\n  };\r\n\r\n  return (\r\n    <StyledApp className={classes.container}>\r\n      <div className={classes.top}>\r\n        <span className={classes.location}>\r\n          <Link to=\"/\">home</Link> /\r\n          <Link to={location}>{props.categoryType}</Link> / {props.brandName}\r\n        </span>\r\n      </div>\r\n      <div className={classes.content}>\r\n        <div className={classes.grid_container}>\r\n          <div className={classes.item}>\r\n            <div className={classes.img_grid}>\r\n              <SubImageContainer className={classes.sub_img__container}>\r\n                <SubImages\r\n                  onClick={changeMainImg}\r\n                  media={props.media}\r\n                  className={classes.sub_img}\r\n                />\r\n              </SubImageContainer>\r\n              <div className={classes.main_img__container}>\r\n                <div className={classes.lens}></div>\r\n                <img\r\n                  alt=\"main\"\r\n                  src={`https://${props.mainImg?.url}`}\r\n                  className={classes.main_img}\r\n                  onMouseMove={zoomInHandler}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className={classes.item}>\r\n            <InfoApp className={classes.information_container}>\r\n              <h1>{props.name}</h1>\r\n              <h2>${props.price}</h2>\r\n              <p>free delivery &#38; returns</p>\r\n              {props.mainImg?.colour === \"No colour\" ? null : (\r\n                <h3>color: {props.mainImg?.colour}</h3>\r\n              )}\r\n              <form className={classes.purchase}>\r\n                {props.sizes[0].brandSize === \"No Size\" ? null : (\r\n                  <Fragment>\r\n                    <h5>size: </h5>\r\n                    <SizeContainer className={classes.sizes}>\r\n                      {props.sizes?.map((sizes) => (\r\n                        <span\r\n                          onClick={selectSizeHandler}\r\n                          className={\r\n                            selectedSize === sizes.brandSize\r\n                              ? \"size_active\"\r\n                              : null\r\n                          }\r\n                        >\r\n                          {sizes.brandSize}\r\n                        </span>\r\n                      ))}\r\n                    </SizeContainer>\r\n                  </Fragment>\r\n                )}\r\n                <BtnContainer className={classes.btn_container}>\r\n                  {props.sizes[0].brandSize === \"No Size\" ? (\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() =>\r\n                        setCartItems((cartItems) => [\r\n                          ...cartItems,\r\n                          {\r\n                            name: props.name,\r\n                            price: props.price,\r\n                            color: props.mainImg?.colour,\r\n                            img: props.mainImg?.url,\r\n                            id: params.productid,\r\n                            size: selectedSize,\r\n                            count: 1,\r\n                          },\r\n                        ])\r\n                      }\r\n                      className={classes.add_to_cart}\r\n                    >\r\n                      <Cart />\r\n                      add to cart\r\n                    </button>\r\n                  ) : (\r\n                    <button\r\n                      disabled={!isSizeSelected}\r\n                      type=\"button\"\r\n                      onClick={() =>\r\n                        setCartItems((cartItems) => [\r\n                          ...cartItems,\r\n                          {\r\n                            name: props.name,\r\n                            price: props.price,\r\n                            color: props.mainImg?.colour,\r\n                            img: props.mainImg?.url,\r\n                            id: params.productid,\r\n                            size: selectedSize,\r\n                            count: 1,\r\n                          },\r\n                        ])\r\n                      }\r\n                      className={classes.add_to_cart}\r\n                    >\r\n                      <Cart />\r\n                      add to cart\r\n                    </button>\r\n                  )}\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() =>\r\n                      setWishlistItems((wishListItems) => [\r\n                        ...wishListItems,\r\n                        {\r\n                          name: props.name,\r\n                          price: props.price,\r\n                          color: props.mainImg?.colour,\r\n                          img: props.mainImg?.url,\r\n                          id: params.productid,\r\n                          size: selectedSize,\r\n                        },\r\n                      ])\r\n                    }\r\n                    className={classes.wishlist}\r\n                  >\r\n                    <Heart />\r\n                  </button>\r\n                </BtnContainer>\r\n              </form>\r\n            </InfoApp>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </StyledApp>\r\n  );\r\n};\r\n\r\nexport default ProductContent;\r\n"]},"metadata":{},"sourceType":"module"}