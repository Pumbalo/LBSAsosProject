{"ast":null,"code":"import _slicedToArray from\"/Users/simon/Desktop/AsosProject/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/simon/Desktop/AsosProject/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import styled from\"styled-components\";import classes from\"./Product.module.css\";import{useState,useContext}from\"react\";import AddToCartContext from\"../../Contexts/AddToCartContext\";import Trash from\"../UI/Icons/Trash\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TitleContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  color: \",\";\\n  margin-left: 5%;\\n\"])),function(props){return props.theme.fontColor;});var StyledApp=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: auto 1fr auto;\\n  align-items: center;\\n  font-family: var(--font-family);\\n  border-top: 1px solid \",\";\\n  padding-top: 18px;\\n  position: relative;\\n\"])),function(props){return props.theme.fontColor;});var IconContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  fill: \",\";\\n  margin-right: 25px;\\n\\n  svg {\\n    cursor: pointer;\\n    transition: fill 500ms ease-in-out;\\n  }\\n\\n  svg:hover {\\n    fill: \",\";\\n  }\\n\"])),function(props){return props.theme.fontColor;},function(props){return props.theme.secondaryColor;});var Product=function Product(props){var _useContext=useContext(AddToCartContext),cartItems=_useContext.cartItems,setCartItems=_useContext.setCartItems;var _useState=useState(props.count),_useState2=_slicedToArray(_useState,2),count=_useState2[0],setCount=_useState2[1];var removeItemHandler=function removeItemHandler(e){var id=e.currentTarget.getAttribute(\"itemid\");var size=e.currentTarget.getAttribute(\"itemsize\");// Klonar kundvagnen\nvar clonedCartItems=JSON.parse(JSON.stringify(cartItems));// Gör en ny kundvagn där produkten man vill ta bort inte finns.\nvar newCart=clonedCartItems.filter(function(elem){if(elem.id===id){return elem.size!==size;}else{return elem.id!==id;}});// Sätter kundvagnen till den nya kundvagnen.\nsetCartItems(newCart);};// Skapar en klon av alla produkter i \"Cart\"\nvar updateCartItems=function updateCartItems(count){// För att uppdatera en state som är en array eller object måste det bli ersatt med en nytt objekt eller array.\nvar clonedCartItems=JSON.parse(JSON.stringify(cartItems));// Sätter de nya \"count\" till den klonen.\nclonedCartItems[props.productInd].count=count;return clonedCartItems;};var decreaseCountHandler=function decreaseCountHandler(){// Ifall count === 1 så händer inget.\nif(count===1){return;}setCount(count-1);// Ersätter \"CartItems\" till klonade \"Cart\".\nsetCartItems(updateCartItems(count-1));};var increaseCountHandler=function increaseCountHandler(){setCount(count+1);setCartItems(updateCartItems(count+1));};return/*#__PURE__*/_jsxs(StyledApp,{className:classes.container,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.img_container,children:/*#__PURE__*/_jsx(\"img\",{className:classes.img,src:\"https://\".concat(props.img),alt:\"Product-Cart\"})}),/*#__PURE__*/_jsxs(TitleContainer,{className:classes.title_container,children:[/*#__PURE__*/_jsx(\"h2\",{className:classes.product_name,children:props.name}),props.color===null?null:/*#__PURE__*/_jsxs(\"h4\",{className:classes.product_color,children:[\"COLOR: \",props.color]}),props.size===null?null:/*#__PURE__*/_jsxs(\"h4\",{className:classes.product_color,children:[\"SIZE: \",props.size]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.options_container,children:[/*#__PURE__*/_jsxs(\"span\",{className:classes.price,children:[\"$\",props.price*count]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.count_container,children:[/*#__PURE__*/_jsx(\"span\",{onClick:decreaseCountHandler,className:\"\".concat(classes.count_icon,\" \").concat(classes.count_decrease),children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(classes.count),children:count}),/*#__PURE__*/_jsx(\"span\",{onClick:increaseCountHandler,className:\"\".concat(classes.count_icon,\" \").concat(classes.count_increase),children:\"+\"})]}),/*#__PURE__*/_jsx(IconContainer,{children:/*#__PURE__*/_jsx(Trash,{itemid:props.itemid,itemsize:props.size,itemcolor:props.color,onClick:removeItemHandler})})]})]});};export default Product;","map":{"version":3,"sources":["/Users/simon/Desktop/AsosProject/client/src/components/ShoppingCart/Product.js"],"names":["styled","classes","useState","useContext","AddToCartContext","Trash","TitleContainer","div","props","theme","fontColor","StyledApp","IconContainer","secondaryColor","Product","cartItems","setCartItems","count","setCount","removeItemHandler","e","id","currentTarget","getAttribute","size","clonedCartItems","JSON","parse","stringify","newCart","filter","elem","updateCartItems","productInd","decreaseCountHandler","increaseCountHandler","container","img_container","img","title_container","product_name","name","color","product_color","options_container","price","count_container","count_icon","count_decrease","count_increase","itemid"],"mappings":"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","sourcesContent":["import styled from \"styled-components\";\r\nimport classes from \"./Product.module.css\";\r\nimport { useState, useContext } from \"react\";\r\nimport AddToCartContext from \"../../Contexts/AddToCartContext\";\r\n\r\nimport Trash from \"../UI/Icons/Trash\";\r\n\r\nconst TitleContainer = styled.div`\r\n  color: ${(props) => props.theme.fontColor};\r\n  margin-left: 5%;\r\n`;\r\n\r\nconst StyledApp = styled.div`\r\n  display: grid;\r\n  grid-template-columns: auto 1fr auto;\r\n  align-items: center;\r\n  font-family: var(--font-family);\r\n  border-top: 1px solid ${(props) => props.theme.fontColor};\r\n  padding-top: 18px;\r\n  position: relative;\r\n`;\r\n\r\nconst IconContainer = styled.div`\r\n  fill: ${(props) => props.theme.fontColor};\r\n  margin-right: 25px;\r\n\r\n  svg {\r\n    cursor: pointer;\r\n    transition: fill 500ms ease-in-out;\r\n  }\r\n\r\n  svg:hover {\r\n    fill: ${(props) => props.theme.secondaryColor};\r\n  }\r\n`;\r\n\r\nconst Product = (props) => {\r\n  const { cartItems, setCartItems } = useContext(AddToCartContext);\r\n  const [count, setCount] = useState(props.count);\r\n\r\n  const removeItemHandler = (e) => {\r\n    let id = e.currentTarget.getAttribute(\"itemid\");\r\n    let size = e.currentTarget.getAttribute(\"itemsize\");\r\n\r\n    // Klonar kundvagnen\r\n    const clonedCartItems = JSON.parse(JSON.stringify(cartItems));\r\n\r\n    // Gör en ny kundvagn där produkten man vill ta bort inte finns.\r\n    let newCart = clonedCartItems.filter((elem) => {\r\n      if (elem.id === id) {\r\n        return elem.size !== size;\r\n      } else {\r\n        return elem.id !== id;\r\n      }\r\n    });\r\n\r\n    // Sätter kundvagnen till den nya kundvagnen.\r\n    setCartItems(newCart);\r\n  };\r\n  // Skapar en klon av alla produkter i \"Cart\"\r\n  const updateCartItems = (count) => {\r\n    // För att uppdatera en state som är en array eller object måste det bli ersatt med en nytt objekt eller array.\r\n    const clonedCartItems = JSON.parse(JSON.stringify(cartItems));\r\n    // Sätter de nya \"count\" till den klonen.\r\n    clonedCartItems[props.productInd].count = count;\r\n\r\n    return clonedCartItems;\r\n  };\r\n\r\n  const decreaseCountHandler = () => {\r\n    // Ifall count === 1 så händer inget.\r\n    if (count === 1) {\r\n      return;\r\n    }\r\n    setCount(count - 1);\r\n    // Ersätter \"CartItems\" till klonade \"Cart\".\r\n    setCartItems(updateCartItems(count - 1));\r\n  };\r\n\r\n  const increaseCountHandler = () => {\r\n    setCount(count + 1);\r\n    setCartItems(updateCartItems(count + 1));\r\n  };\r\n\r\n  return (\r\n    <StyledApp className={classes.container}>\r\n      <div className={classes.img_container}>\r\n        <img\r\n          className={classes.img}\r\n          src={`https://${props.img}`}\r\n          alt=\"Product-Cart\"\r\n        />\r\n      </div>\r\n      <TitleContainer className={classes.title_container}>\r\n        <h2 className={classes.product_name}>{props.name}</h2>\r\n        {props.color === null ? null : (\r\n          <h4 className={classes.product_color}>COLOR: {props.color}</h4>\r\n        )}\r\n        {props.size === null ? null : (\r\n          <h4 className={classes.product_color}>SIZE: {props.size}</h4>\r\n        )}\r\n      </TitleContainer>\r\n      <div className={classes.options_container}>\r\n        <span className={classes.price}>${props.price * count}</span>\r\n        <div className={classes.count_container}>\r\n          <span\r\n            onClick={decreaseCountHandler}\r\n            className={`${classes.count_icon} ${classes.count_decrease}`}\r\n          >\r\n            -\r\n          </span>\r\n          <span className={`${classes.count}`}>{count}</span>\r\n          <span\r\n            onClick={increaseCountHandler}\r\n            className={`${classes.count_icon} ${classes.count_increase}`}\r\n          >\r\n            +\r\n          </span>\r\n        </div>\r\n        <IconContainer>\r\n          <Trash\r\n            itemid={props.itemid}\r\n            itemsize={props.size}\r\n            itemcolor={props.color}\r\n            onClick={removeItemHandler}\r\n          />\r\n        </IconContainer>\r\n      </div>\r\n    </StyledApp>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n"]},"metadata":{},"sourceType":"module"}