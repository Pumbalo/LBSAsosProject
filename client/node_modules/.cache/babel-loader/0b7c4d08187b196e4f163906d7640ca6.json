{"ast":null,"code":"import _slicedToArray from\"/Users/simon/Desktop/AsosProject/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/simon/Desktop/AsosProject/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import styled from\"styled-components\";import classes from\"./Products.module.css\";import{Link}from\"react-router-dom\";import FetchAPI from\"../ProductFetch/FetchAPI\";import{useState}from\"react\";import{useParams}from\"react-router-dom\";import Dropdown from\"./Dropdown/Dropdown\";import Redo from\"../UI/Icons/Redo\";import Linear from\"../UI/Progress/Linear\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledApp=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  color: \",\";\\n  width: 100%;\\n  height: 100%;\\n  font-family: var(--font-family);\\n\\n  span {\\n    cursor: default;\\n  }\\n\\n  span a {\\n    color: \",\";\\n    text-decoration: none;\\n  }\\n\\n  span a:hover {\\n    color: \",\";\\n  }\\n\"])),function(props){return props.theme.fontColor;},function(props){return props.theme.fontColor;},function(props){return props.theme.secondaryColor;});var BottomBar=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  margin-top: 100px;\\n  width: 100%;\\n  box-shadow: var(--dp14-shadow);\\n  background-color: \",\";\\n\"])),function(props){return props.theme.secondaryBody;});var LoadMoreApp=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  flex-direction: column;\\n\\n  p {\\n    color: \",\";\\n    opacity: 0.8;\\n    font-family: var(--font-family);\\n    font-weight: var(--font-regular);\\n    font-size: 16px;\\n    letter-spacing: 1px;\\n    margin: 0;\\n  }\\n\\n  button {\\n    color: \",\";\\n    font-family: var(--font-family);\\n    font-weight: var(--font-semibold);\\n    font-size: 18px;\\n    letter-spacing: 1px;\\n    text-transform: uppercase;\\n    outline: none;\\n    background: transparent;\\n    border: 1px solid \",\";\\n    border-radius: 4px;\\n    padding: 10px 40px;\\n    margin: 10px 50px;\\n    min-width: 245px;\\n  }\\n\"])),function(props){return props.theme.fontColor;},function(props){return props.theme.fontColor;},function(props){return props.theme.fontColor;});var ClearBtn=styled.button(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  outline: none;\\n  font-family: var(--font-family);\\n  color: \",\";\\n  font-size: 16px;\\n  fill: \",\";\\n  border: 1px solid \",\";\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  padding: 5px 10px;\\n  margin-top: 10px;\\n  background-color: transparent;\\n\\n  svg {\\n    margin-right: 10px;\\n  }\\n\"])),function(props){return props.theme.fontColor;},function(props){return props.theme.fontColor;},function(props){return props.theme.fontColor;});var Products=function Products(props){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),offset=_useState2[0],setOffset=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),itemCount=_useState4[0],setItemCount=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),currentPage=_useState6[0],setCurrentPage=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),facets=_useState8[0],setFacets=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),facetValue=_useState10[0],setFacetValue=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),facetKey=_useState12[0],setFacetKey=_useState12[1];var params=useParams();var loadMoreHandler=function loadMoreHandler(){setOffset(function(offset){return offset+48;});setCurrentPage(currentPage+1);window.scrollTo(0,500);};var loadLessHandler=function loadLessHandler(){setOffset(offset-48);setCurrentPage(currentPage-1);window.scrollTo(0,0);};var clearSortingHandler=function clearSortingHandler(){window.location.reload();};var pageChangeHandler=function pageChangeHandler(event){event.preventDefault();};return/*#__PURE__*/_jsxs(\"div\",{className:classes.container,children:[/*#__PURE__*/_jsxs(StyledApp,{className:classes.container,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.top,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.location,children:/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"home\"}),\" / \",params.type]})}),/*#__PURE__*/_jsx(\"div\",{className:classes.title,children:/*#__PURE__*/_jsx(\"h1\",{children:params.type})})]}),/*#__PURE__*/_jsxs(BottomBar,{children:[/*#__PURE__*/_jsx(\"div\",{className:classes.btn_container,children:/*#__PURE__*/_jsxs(ClearBtn,{type:\"button\",onClick:clearSortingHandler,children:[/*#__PURE__*/_jsx(Redo,{}),\" Clear\"]})}),/*#__PURE__*/_jsx(\"div\",{className:classes.filter_grid_container,children:facets!=null?facets.map(function(filter){return/*#__PURE__*/_jsx(\"div\",{className:classes.item,children:filter.name!==\"Price Range\"?/*#__PURE__*/_jsx(Dropdown,{name:filter.name,values:filter.facetValues,facetKey:filter.id,facetValue:function facetValue(_facetValue){return setFacetValue(_facetValue);},facetItemKey:function facetItemKey(facetKey){return setFacetKey(facetKey);}}):null});}):null})]})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.grid_container,children:/*#__PURE__*/_jsx(FetchAPI,{offset:offset,items:function items(itemCount){return setItemCount(itemCount);},categoryId:params.id,facets:function facets(_facets){return setFacets(_facets);},facetValue:facetValue,facetKey:facetKey})}),Math.round(itemCount/48)!==0?/*#__PURE__*/_jsxs(LoadMoreApp,{className:classes.load_more__container,children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"You have viewed page \",currentPage,\" of \",Math.round(itemCount/48)]}),/*#__PURE__*/_jsx(Linear,{current:currentPage,total:Math.round(itemCount/48),className:classes.progress}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:pageChangeHandler,children:[offset!==0?/*#__PURE__*/_jsx(\"button\",{onClick:loadLessHandler,type:\"submit\",children:\"Previous Page\"}):null,currentPage!==Math.round(itemCount/48)?/*#__PURE__*/_jsx(\"button\",{onClick:loadMoreHandler,type:\"submit\",children:\"Next Page\"}):null]})]}):null]});};export default Products;","map":{"version":3,"sources":["/Users/simon/Desktop/AsosProject/client/src/components/CategoryList/Products.js"],"names":["styled","classes","Link","FetchAPI","useState","useParams","Dropdown","Redo","Linear","StyledApp","div","props","theme","fontColor","secondaryColor","BottomBar","secondaryBody","LoadMoreApp","ClearBtn","button","Products","offset","setOffset","itemCount","setItemCount","currentPage","setCurrentPage","facets","setFacets","facetValue","setFacetValue","facetKey","setFacetKey","params","loadMoreHandler","window","scrollTo","loadLessHandler","clearSortingHandler","location","reload","pageChangeHandler","event","preventDefault","container","top","type","title","btn_container","filter_grid_container","map","filter","item","name","facetValues","id","grid_container","Math","round","load_more__container","progress"],"mappings":"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","sourcesContent":["import styled from \"styled-components\";\r\nimport classes from \"./Products.module.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport FetchAPI from \"../ProductFetch/FetchAPI\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport Dropdown from \"./Dropdown/Dropdown\";\r\nimport Redo from \"../UI/Icons/Redo\";\r\nimport Linear from \"../UI/Progress/Linear\";\r\n\r\nconst StyledApp = styled.div`\r\n  color: ${(props) => props.theme.fontColor};\r\n  width: 100%;\r\n  height: 100%;\r\n  font-family: var(--font-family);\r\n\r\n  span {\r\n    cursor: default;\r\n  }\r\n\r\n  span a {\r\n    color: ${(props) => props.theme.fontColor};\r\n    text-decoration: none;\r\n  }\r\n\r\n  span a:hover {\r\n    color: ${(props) => props.theme.secondaryColor};\r\n  }\r\n`;\r\n\r\nconst BottomBar = styled.div`\r\n  margin-top: 100px;\r\n  width: 100%;\r\n  box-shadow: var(--dp14-shadow);\r\n  background-color: ${(props) => props.theme.secondaryBody};\r\n`;\r\n\r\nconst LoadMoreApp = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n\r\n  p {\r\n    color: ${(props) => props.theme.fontColor};\r\n    opacity: 0.8;\r\n    font-family: var(--font-family);\r\n    font-weight: var(--font-regular);\r\n    font-size: 16px;\r\n    letter-spacing: 1px;\r\n    margin: 0;\r\n  }\r\n\r\n  button {\r\n    color: ${(props) => props.theme.fontColor};\r\n    font-family: var(--font-family);\r\n    font-weight: var(--font-semibold);\r\n    font-size: 18px;\r\n    letter-spacing: 1px;\r\n    text-transform: uppercase;\r\n    outline: none;\r\n    background: transparent;\r\n    border: 1px solid ${(props) => props.theme.fontColor};\r\n    border-radius: 4px;\r\n    padding: 10px 40px;\r\n    margin: 10px 50px;\r\n    min-width: 245px;\r\n  }\r\n`;\r\n\r\nconst ClearBtn = styled.button`\r\n  outline: none;\r\n  font-family: var(--font-family);\r\n  color: ${(props) => props.theme.fontColor};\r\n  font-size: 16px;\r\n  fill: ${(props) => props.theme.fontColor};\r\n  border: 1px solid ${(props) => props.theme.fontColor};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 5px 10px;\r\n  margin-top: 10px;\r\n  background-color: transparent;\r\n\r\n  svg {\r\n    margin-right: 10px;\r\n  }\r\n`;\r\n\r\nconst Products = (props) => {\r\n  const [offset, setOffset] = useState(0);\r\n  const [itemCount, setItemCount] = useState();\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [facets, setFacets] = useState();\r\n  const [facetValue, setFacetValue] = useState();\r\n  const [facetKey, setFacetKey] = useState();\r\n\r\n  let params = useParams();\r\n\r\n  const loadMoreHandler = () => {\r\n    setOffset((offset) => offset + 48);\r\n    setCurrentPage(currentPage + 1);\r\n    window.scrollTo(0, 500);\r\n  };\r\n\r\n  const loadLessHandler = () => {\r\n    setOffset(offset - 48);\r\n    setCurrentPage(currentPage - 1);\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  const clearSortingHandler = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  const pageChangeHandler = (event) => {\r\n    event.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <StyledApp className={classes.container}>\r\n        <div className={classes.top}>\r\n          <div className={classes.location}>\r\n            <span>\r\n              <Link to=\"/\">home</Link> / {params.type}\r\n            </span>\r\n          </div>\r\n          <div className={classes.title}>\r\n            <h1>{params.type}</h1>\r\n          </div>\r\n        </div>\r\n        <BottomBar>\r\n          <div className={classes.btn_container}>\r\n            <ClearBtn type=\"button\" onClick={clearSortingHandler}>\r\n              <Redo /> Clear\r\n            </ClearBtn>\r\n          </div>\r\n          <div className={classes.filter_grid_container}>\r\n            {facets != null\r\n              ? facets.map((filter) => (\r\n                  <div className={classes.item}>\r\n                    {filter.name !== \"Price Range\" ? (\r\n                      <Dropdown\r\n                        name={filter.name}\r\n                        values={filter.facetValues}\r\n                        facetKey={filter.id}\r\n                        facetValue={(facetValue) => setFacetValue(facetValue)}\r\n                        facetItemKey={(facetKey) => setFacetKey(facetKey)}\r\n                      />\r\n                    ) : null}\r\n                  </div>\r\n                ))\r\n              : null}\r\n          </div>\r\n        </BottomBar>\r\n      </StyledApp>\r\n      <div className={classes.grid_container}>\r\n        <FetchAPI\r\n          offset={offset}\r\n          items={(itemCount) => setItemCount(itemCount)}\r\n          categoryId={params.id}\r\n          facets={(facets) => setFacets(facets)}\r\n          facetValue={facetValue}\r\n          facetKey={facetKey}\r\n        />\r\n      </div>\r\n      {Math.round(itemCount / 48) !== 0 ? (\r\n        <LoadMoreApp className={classes.load_more__container}>\r\n          <p>\r\n            You have viewed page {currentPage} of {Math.round(itemCount / 48)}\r\n          </p>\r\n          <Linear\r\n            current={currentPage}\r\n            total={Math.round(itemCount / 48)}\r\n            className={classes.progress}\r\n          />\r\n          <form onSubmit={pageChangeHandler}>\r\n            {offset !== 0 ? (\r\n              <button onClick={loadLessHandler} type=\"submit\">\r\n                Previous Page\r\n              </button>\r\n            ) : null}\r\n            {currentPage !== Math.round(itemCount / 48) ? (\r\n              <button onClick={loadMoreHandler} type=\"submit\">\r\n                Next Page\r\n              </button>\r\n            ) : null}\r\n          </form>\r\n        </LoadMoreApp>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n"]},"metadata":{},"sourceType":"module"}