{"ast":null,"code":"import _slicedToArray from\"/Users/simon/Desktop/AsosProject/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import{useEffect,useState,Fragment}from\"react\";import Product from\"../Product\";import{useParams}from\"react-router-dom\";import Loading from\"../../UI/Progress/Circular\";import classes from\"./FetchAPI.module.css\";import Axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";var FetchAPI=function FetchAPI(props){var _product$price,_product$price$curren,_product$brand,_product$brand$descri,_product$brand2,_product$info,_product$info$aboutMe,_product$info2,_product$info2$careIn,_product$info3,_product$info3$sizeAn,_product$media,_product$media2;Axios.defaults.withCredentials=false;// Sätter initial loading state till false\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),product=_useState4[0],setProduct=_useState4[1];var linkParams=useParams();useEffect(function(){var options={method:\"GET\",url:\"https://asos2.p.rapidapi.com/products/v3/detail\",params:{id:linkParams.productid,lang:\"en-US\",store:\"US\",sizeSchema:\"US\",currency:\"USD\"},headers:{\"x-rapidapi-key\":\"202b38878fmsh50dbc4c475e6d98p1c84bbjsnb086cc254106\",\"x-rapidapi-host\":\"asos2.p.rapidapi.com\"}};axios.request(options).then(function(response){setProduct(response.data);setIsLoading(true);}).catch(function(error){console.error(error);});},[]);return/*#__PURE__*/_jsx(\"div\",{children:isLoading?/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(Product,{name:product===null||product===void 0?void 0:product.name,price:product===null||product===void 0?void 0:(_product$price=product.price)===null||_product$price===void 0?void 0:(_product$price$curren=_product$price.current)===null||_product$price$curren===void 0?void 0:_product$price$curren.value,brand:product===null||product===void 0?void 0:(_product$brand=product.brand)===null||_product$brand===void 0?void 0:(_product$brand$descri=_product$brand.description)===null||_product$brand$descri===void 0?void 0:_product$brand$descri.replace(/(<([^>]+)>)/gi,\"\"),brandName:product===null||product===void 0?void 0:(_product$brand2=product.brand)===null||_product$brand2===void 0?void 0:_product$brand2.name,aboutMe:product===null||product===void 0?void 0:(_product$info=product.info)===null||_product$info===void 0?void 0:(_product$info$aboutMe=_product$info.aboutMe)===null||_product$info$aboutMe===void 0?void 0:_product$info$aboutMe.replace(/(<([^>]+)>)/gi,\" \"),careInfo:product===null||product===void 0?void 0:(_product$info2=product.info)===null||_product$info2===void 0?void 0:(_product$info2$careIn=_product$info2.careInfo)===null||_product$info2$careIn===void 0?void 0:_product$info2$careIn.replace(/(<([^>]+)>)/gi,\"\"),sizeAndFit:product===null||product===void 0?void 0:(_product$info3=product.info)===null||_product$info3===void 0?void 0:(_product$info3$sizeAn=_product$info3.sizeAndFit)===null||_product$info3$sizeAn===void 0?void 0:_product$info3$sizeAn.replace(/(<([^>]+)>)/gi,\"\"),media:product===null||product===void 0?void 0:(_product$media=product.media)===null||_product$media===void 0?void 0:_product$media.images,mainImg:product===null||product===void 0?void 0:(_product$media2=product.media)===null||_product$media2===void 0?void 0:_product$media2.images[0],sizes:product===null||product===void 0?void 0:product.variants,categoryType:linkParams.type})}):/*#__PURE__*/_jsx(\"div\",{className:classes.loading_container,children:/*#__PURE__*/_jsx(Loading,{title:\"Loading Product\"})})});};export default FetchAPI;","map":{"version":3,"sources":["/Users/simon/Desktop/AsosProject/client/src/components/Product/ProductFetch/FetchAPI.js"],"names":["axios","useEffect","useState","Fragment","Product","useParams","Loading","classes","Axios","FetchAPI","props","defaults","withCredentials","isLoading","setIsLoading","product","setProduct","linkParams","options","method","url","params","id","productid","lang","store","sizeSchema","currency","headers","request","then","response","data","catch","error","console","name","price","current","value","brand","description","replace","info","aboutMe","careInfo","sizeAndFit","media","images","variants","type","loading_container"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState, Fragment } from \"react\";\r\nimport Product from \"../Product\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nimport Loading from \"../../UI/Progress/Circular\";\r\nimport classes from \"./FetchAPI.module.css\";\r\nimport Axios from \"axios\";\r\nconst FetchAPI = (props) => {\r\n  Axios.defaults.withCredentials = false;\r\n\r\n  // Sätter initial loading state till false\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const [product, setProduct] = useState({});\r\n  let linkParams = useParams();\r\n\r\n  useEffect(() => {\r\n    const options = {\r\n      method: \"GET\",\r\n      url: \"https://asos2.p.rapidapi.com/products/v3/detail\",\r\n      params: {\r\n        id: linkParams.productid,\r\n        lang: \"en-US\",\r\n        store: \"US\",\r\n        sizeSchema: \"US\",\r\n        currency: \"USD\",\r\n      },\r\n      headers: {\r\n        \"x-rapidapi-key\": \"202b38878fmsh50dbc4c475e6d98p1c84bbjsnb086cc254106\",\r\n        \"x-rapidapi-host\": \"asos2.p.rapidapi.com\",\r\n      },\r\n    };\r\n\r\n    axios\r\n      .request(options)\r\n      .then(function (response) {\r\n        setProduct(response.data);\r\n        setIsLoading(true);\r\n      })\r\n      .catch(function (error) {\r\n        console.error(error);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      {isLoading ? (\r\n        <Fragment>\r\n          <Product\r\n            name={product?.name}\r\n            price={product?.price?.current?.value}\r\n            brand={product?.brand?.description?.replace(/(<([^>]+)>)/gi, \"\")}\r\n            brandName={product?.brand?.name}\r\n            aboutMe={product?.info?.aboutMe?.replace(/(<([^>]+)>)/gi, \" \")}\r\n            careInfo={product?.info?.careInfo?.replace(/(<([^>]+)>)/gi, \"\")}\r\n            sizeAndFit={product?.info?.sizeAndFit?.replace(/(<([^>]+)>)/gi, \"\")}\r\n            media={product?.media?.images}\r\n            mainImg={product?.media?.images[0]}\r\n            sizes={product?.variants}\r\n            categoryType={linkParams.type}\r\n          />\r\n        </Fragment>\r\n      ) : (\r\n        <div className={classes.loading_container}>\r\n          <Loading title={`Loading Product`} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FetchAPI;\r\n"]},"metadata":{},"sourceType":"module"}