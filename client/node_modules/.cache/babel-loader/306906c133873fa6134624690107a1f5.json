{"ast":null,"code":"import _slicedToArray from\"/Users/simon/Desktop/AsosProject/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/simon/Desktop/AsosProject/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import classes from\"./Form.module.css\";import{Link}from\"react-router-dom\";import styled from\"styled-components\";import ButtonBig from\"../UI/Buttons/Button\";import InputField from\"../UI/InputFields/InputField\";import{useState}from\"react\";// Importerar axios\nimport Axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PswdDropdown=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  color: \",\";\\n  background-color: \",\";\\n  z-index: 99 !important;\\n\"])),function(props){return props.theme.fontColor;},function(props){return props.theme.secondaryBody;});var Form=function Form(props){var registerSubmitHandler=function registerSubmitHandler(event){event.preventDefault();if(!isCharLength){// Ifall lösenordet är för kort när man registrerar.\nsetIsInvalid(true);setErrorMessage(\"Password is to short.\");}else if(!isOneNum){// Ifall lösenordet inte har en siffra i sig när man registrerar.\nsetIsInvalid(true);setErrorMessage(\"Password needs one number.\");}else if(!isOneUpper){// Ifall lösenordet inte har en stor bokstav när man registrerar.\nsetIsInvalid(true);setErrorMessage(\"Password needs one uppercase.\");}else if(!isMatching){// Ifall lösenordet inte är lika när man registrerar.\nsetIsInvalid(true);setErrorMessage(\"Password does not match.\");}else{setIsInvalid(false);// Skickar lösenordet till /register på port 3001 (där min server är)\nAxios.post(\"http://localhost:3001/register\",{firstName:firstNameReg,lastName:lastNameReg,username:usernameReg,phone:phoneReg,password:passwordReg,email:emailReg}).then(function(response){//\n});}};// States för inloggnings info\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),firstNameReg=_useState2[0],setFirstNameReg=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),lastNameReg=_useState4[0],setLastNameReg=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),usernameReg=_useState6[0],setUsernameReg=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),phoneReg=_useState8[0],setPhoneReg=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),passwordReg=_useState10[0],setPasswordReg=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),secondPasswordReg=_useState12[0],setSecondPasswordReg=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),emailReg=_useState14[0],setEmailReg=_useState14[1];// Password Check\nvar _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),errorMessage=_useState16[0],setErrorMessage=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),isInvalid=_useState18[0],setIsInvalid=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),isCharLength=_useState20[0],setIsCharLength=_useState20[1];var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),isOneNum=_useState22[0],setIsOneNum=_useState22[1];var _useState23=useState(false),_useState24=_slicedToArray(_useState23,2),isOneUpper=_useState24[0],setIsOneUpper=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),isMatching=_useState26[0],setIsMatching=_useState26[1];// State för dropdown att visas\nvar _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),passwordDropdown=_useState28[0],setPasswordDropdown=_useState28[1];var showDropdownHandler=function showDropdownHandler(){return setPasswordDropdown(true);};var hideDropdownHandler=function hideDropdownHandler(){return setPasswordDropdown(false);};var passwordCheckHandler=function passwordCheckHandler(e){var val=e.target.value;setPasswordReg(val);// Ifall lösenordet är kortare än 7 bokstäver\nif(val.length<7){setIsCharLength(false);}// Ifall lösenordet är längre eller lika med 7 bokstäver\nif(val.length>=7){setIsCharLength(true);}// Ifall lösenordet har en siffra i sig\nsetIsOneNum(/\\d/.test(val));// Ifall lösenordet har en stor bokstav\nsetIsOneUpper(/[A-Z]/.test(val));if(val.length!==0){// Ifall Password och SecondPassword är lika\nif(val===secondPasswordReg){setIsMatching(true);}}else{setIsMatching(false);}};var secondPasswordCheckHandler=function secondPasswordCheckHandler(e){var val=e.target.value;setSecondPasswordReg(val);if(val.length!==0){// Ifall Password och SecondPassword är lika\nif(val===passwordReg){setIsMatching(true);}}else{setIsMatching(false);}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:registerSubmitHandler,className:classes.input_container,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.firstname,children:/*#__PURE__*/_jsx(InputField,{className:classes.input_field,type:\"text\",name:\"FirstName\",placeholder:\"First Name\",onChange:function onChange(e){return setFirstNameReg(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:classes.lastname,children:/*#__PURE__*/_jsx(InputField,{className:classes.input_field,type:\"text\",name:\"LastName\",placeholder:\"Last Name\",onChange:function onChange(e){return setLastNameReg(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:classes.username,children:/*#__PURE__*/_jsx(InputField,{className:classes.input_field,type:\"text\",name:\"Username\",placeholder:\"Username\",onChange:function onChange(e){return setUsernameReg(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:classes.phone,children:/*#__PURE__*/_jsx(InputField,{className:classes.input_field,type:\"tel\",name:\"Phone\",placeholder:\"Phone\",onChange:function onChange(e){return setPhoneReg(e.target.value);}})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.password,children:[/*#__PURE__*/_jsx(InputField,{className:classes.input_field,type:\"password\",name:\"Password\",placeholder:\"Password\",onChange:passwordCheckHandler,onFocus:showDropdownHandler,onBlur:hideDropdownHandler}),isInvalid?/*#__PURE__*/_jsx(\"div\",{className:classes.psw_error,children:/*#__PURE__*/_jsx(\"span\",{children:errorMessage})}):null,/*#__PURE__*/_jsxs(PswdDropdown,{className:\"\".concat(classes.pswd_dropdown,\" \").concat(passwordDropdown?classes.pswd_dropdown_show:null),children:[/*#__PURE__*/_jsx(\"h6\",{children:\"Password Requirements: \"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{className:isCharLength?classes.valid:null,children:\"At least 7 characters long\"}),/*#__PURE__*/_jsx(\"li\",{className:isOneNum?classes.valid:null,children:\"At least one number\"}),/*#__PURE__*/_jsx(\"li\",{className:isOneUpper?classes.valid:null,children:\"At least one uppercase letter\"}),/*#__PURE__*/_jsx(\"li\",{className:isMatching?classes.valid:null,children:\"Password must match\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.password_two,children:/*#__PURE__*/_jsx(InputField,{className:classes.input_field,type:\"password\",name:\"PasswordTwo\",placeholder:\"Password\",onChange:secondPasswordCheckHandler,onFocus:showDropdownHandler,onBlur:hideDropdownHandler})}),/*#__PURE__*/_jsx(\"div\",{className:classes.email,children:/*#__PURE__*/_jsx(InputField,{className:classes.input_field,type:\"email\",name:\"Email\",placeholder:\"E-Mail\",onChange:function onChange(e){return setEmailReg(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:classes.checkboxes,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.checkbox_container,children:[/*#__PURE__*/_jsxs(\"label\",{className:classes.label,children:[\"I accept the\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/\",className:classes.colored,children:\"terms and conditions\"}),\"*\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:classes.checkmark})]}),/*#__PURE__*/_jsxs(\"label\",{className:classes.label,children:[\"I want to sign up to ASOS's newsletter \",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\"}),/*#__PURE__*/_jsx(\"span\",{className:classes.checkmark})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:classes.button_container,children:/*#__PURE__*/_jsx(ButtonBig,{type:\"submit\",children:\"register\"})})]});};export default Form;","map":{"version":3,"sources":["/Users/simon/Desktop/AsosProject/client/src/components/Account/Form.js"],"names":["classes","Link","styled","ButtonBig","InputField","useState","Axios","PswdDropdown","div","props","theme","fontColor","secondaryBody","Form","registerSubmitHandler","event","preventDefault","isCharLength","setIsInvalid","setErrorMessage","isOneNum","isOneUpper","isMatching","post","firstName","firstNameReg","lastName","lastNameReg","username","usernameReg","phone","phoneReg","password","passwordReg","email","emailReg","then","response","setFirstNameReg","setLastNameReg","setUsernameReg","setPhoneReg","setPasswordReg","secondPasswordReg","setSecondPasswordReg","setEmailReg","errorMessage","isInvalid","setIsCharLength","setIsOneNum","setIsOneUpper","setIsMatching","passwordDropdown","setPasswordDropdown","showDropdownHandler","hideDropdownHandler","passwordCheckHandler","e","val","target","value","length","test","secondPasswordCheckHandler","input_container","firstname","input_field","lastname","psw_error","pswd_dropdown","pswd_dropdown_show","valid","password_two","checkboxes","checkbox_container","label","colored","checkmark","button_container"],"mappings":"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","sourcesContent":["import classes from \"./Form.module.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nimport ButtonBig from \"../UI/Buttons/Button\";\r\nimport InputField from \"../UI/InputFields/InputField\";\r\nimport { useState } from \"react\";\r\n\r\n// Importerar axios\r\nimport Axios from \"axios\";\r\n\r\nconst PswdDropdown = styled.div`\r\n  color: ${(props) => props.theme.fontColor};\r\n  background-color: ${(props) => props.theme.secondaryBody};\r\n  z-index: 99 !important;\r\n`;\r\n\r\nconst Form = (props) => {\r\n  const registerSubmitHandler = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (!isCharLength) {\r\n      // Ifall lösenordet är för kort när man registrerar.\r\n      setIsInvalid(true);\r\n      setErrorMessage(\"Password is to short.\");\r\n    } else if (!isOneNum) {\r\n      // Ifall lösenordet inte har en siffra i sig när man registrerar.\r\n      setIsInvalid(true);\r\n      setErrorMessage(\"Password needs one number.\");\r\n    } else if (!isOneUpper) {\r\n      // Ifall lösenordet inte har en stor bokstav när man registrerar.\r\n      setIsInvalid(true);\r\n      setErrorMessage(\"Password needs one uppercase.\");\r\n    } else if (!isMatching) {\r\n      // Ifall lösenordet inte är lika när man registrerar.\r\n      setIsInvalid(true);\r\n      setErrorMessage(\"Password does not match.\");\r\n    } else {\r\n      setIsInvalid(false);\r\n\r\n      // Skickar lösenordet till /register på port 3001 (där min server är)\r\n      Axios.post(\"http://localhost:3001/register\", {\r\n        firstName: firstNameReg,\r\n        lastName: lastNameReg,\r\n        username: usernameReg,\r\n        phone: phoneReg,\r\n        password: passwordReg,\r\n        email: emailReg,\r\n      }).then((response) => {\r\n        //\r\n      });\r\n    }\r\n  };\r\n\r\n  // States för inloggnings info\r\n  const [firstNameReg, setFirstNameReg] = useState(\"\");\r\n  const [lastNameReg, setLastNameReg] = useState(\"\");\r\n  const [usernameReg, setUsernameReg] = useState(\"\");\r\n  const [phoneReg, setPhoneReg] = useState(\"\");\r\n  const [passwordReg, setPasswordReg] = useState(\"\");\r\n  const [secondPasswordReg, setSecondPasswordReg] = useState(\"\");\r\n  const [emailReg, setEmailReg] = useState(\"\");\r\n\r\n  // Password Check\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [isInvalid, setIsInvalid] = useState(false);\r\n  const [isCharLength, setIsCharLength] = useState(false);\r\n  const [isOneNum, setIsOneNum] = useState(false);\r\n  const [isOneUpper, setIsOneUpper] = useState(false);\r\n  const [isMatching, setIsMatching] = useState(false);\r\n\r\n  // State för dropdown att visas\r\n  const [passwordDropdown, setPasswordDropdown] = useState(false);\r\n\r\n  const showDropdownHandler = () => setPasswordDropdown(true);\r\n  const hideDropdownHandler = () => setPasswordDropdown(false);\r\n\r\n  const passwordCheckHandler = (e) => {\r\n    let val = e.target.value;\r\n    setPasswordReg(val);\r\n\r\n    // Ifall lösenordet är kortare än 7 bokstäver\r\n    if (val.length < 7) {\r\n      setIsCharLength(false);\r\n    }\r\n\r\n    // Ifall lösenordet är längre eller lika med 7 bokstäver\r\n    if (val.length >= 7) {\r\n      setIsCharLength(true);\r\n    }\r\n\r\n    // Ifall lösenordet har en siffra i sig\r\n    setIsOneNum(/\\d/.test(val));\r\n\r\n    // Ifall lösenordet har en stor bokstav\r\n    setIsOneUpper(/[A-Z]/.test(val));\r\n\r\n    if (val.length !== 0) {\r\n      // Ifall Password och SecondPassword är lika\r\n      if (val === secondPasswordReg) {\r\n        setIsMatching(true);\r\n      }\r\n    } else {\r\n      setIsMatching(false);\r\n    }\r\n  };\r\n  const secondPasswordCheckHandler = (e) => {\r\n    let val = e.target.value;\r\n    setSecondPasswordReg(val);\r\n    if (val.length !== 0) {\r\n      // Ifall Password och SecondPassword är lika\r\n      if (val === passwordReg) {\r\n        setIsMatching(true);\r\n      }\r\n    } else {\r\n      setIsMatching(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={registerSubmitHandler} className={classes.input_container}>\r\n      <div className={classes.firstname}>\r\n        <InputField\r\n          className={classes.input_field}\r\n          type=\"text\"\r\n          name=\"FirstName\"\r\n          placeholder=\"First Name\"\r\n          onChange={(e) => setFirstNameReg(e.target.value)}\r\n        />\r\n      </div>\r\n      <div className={classes.lastname}>\r\n        <InputField\r\n          className={classes.input_field}\r\n          type=\"text\"\r\n          name=\"LastName\"\r\n          placeholder=\"Last Name\"\r\n          onChange={(e) => setLastNameReg(e.target.value)}\r\n        />\r\n      </div>\r\n      <div className={classes.username}>\r\n        <InputField\r\n          className={classes.input_field}\r\n          type=\"text\"\r\n          name=\"Username\"\r\n          placeholder=\"Username\"\r\n          onChange={(e) => setUsernameReg(e.target.value)}\r\n        />\r\n      </div>\r\n      <div className={classes.phone}>\r\n        <InputField\r\n          className={classes.input_field}\r\n          type=\"tel\"\r\n          name=\"Phone\"\r\n          placeholder=\"Phone\"\r\n          onChange={(e) => setPhoneReg(e.target.value)}\r\n        />\r\n      </div>\r\n      <div className={classes.password}>\r\n        <InputField\r\n          className={classes.input_field}\r\n          type=\"password\"\r\n          name=\"Password\"\r\n          placeholder=\"Password\"\r\n          onChange={passwordCheckHandler}\r\n          onFocus={showDropdownHandler}\r\n          onBlur={hideDropdownHandler}\r\n        />\r\n        {isInvalid ? (\r\n          <div className={classes.psw_error}>\r\n            <span>{errorMessage}</span>\r\n          </div>\r\n        ) : null}\r\n        <PswdDropdown\r\n          className={`${classes.pswd_dropdown} ${\r\n            passwordDropdown ? classes.pswd_dropdown_show : null\r\n          }`}\r\n        >\r\n          <h6>Password Requirements: </h6>\r\n          <ul>\r\n            <li className={isCharLength ? classes.valid : null}>\r\n              At least 7 characters long\r\n            </li>\r\n            <li className={isOneNum ? classes.valid : null}>\r\n              At least one number\r\n            </li>\r\n            <li className={isOneUpper ? classes.valid : null}>\r\n              At least one uppercase letter\r\n            </li>\r\n            <li className={isMatching ? classes.valid : null}>\r\n              Password must match\r\n            </li>\r\n          </ul>\r\n        </PswdDropdown>\r\n      </div>\r\n      <div className={classes.password_two}>\r\n        <InputField\r\n          className={classes.input_field}\r\n          type=\"password\"\r\n          name=\"PasswordTwo\"\r\n          placeholder=\"Password\"\r\n          onChange={secondPasswordCheckHandler}\r\n          onFocus={showDropdownHandler}\r\n          onBlur={hideDropdownHandler}\r\n        />\r\n      </div>\r\n      <div className={classes.email}>\r\n        <InputField\r\n          className={classes.input_field}\r\n          type=\"email\"\r\n          name=\"Email\"\r\n          placeholder=\"E-Mail\"\r\n          onChange={(e) => setEmailReg(e.target.value)}\r\n        />\r\n      </div>\r\n      <div className={classes.checkboxes}>\r\n        <div className={classes.checkbox_container}>\r\n          <label className={classes.label}>\r\n            I accept the{\" \"}\r\n            <Link to=\"/\" className={classes.colored}>\r\n              terms and conditions\r\n            </Link>\r\n            *\r\n            <input type=\"checkbox\" />\r\n            <span className={classes.checkmark}></span>\r\n          </label>\r\n          <label className={classes.label}>\r\n            I want to sign up to ASOS's newsletter <input type=\"checkbox\" />\r\n            <span className={classes.checkmark}></span>\r\n          </label>\r\n        </div>\r\n      </div>\r\n      <div className={classes.button_container}>\r\n        <ButtonBig type=\"submit\">register</ButtonBig>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n"]},"metadata":{},"sourceType":"module"}